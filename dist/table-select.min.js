!function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function s(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){Object.assign(b,e)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),u=s(c),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.setDefaultOptions=r;var d=n(3),h=o(d),f=n(6),w=n(5),v=n(7),R=n(2),y=n(4),b={className:"selectable",tabIndex:1,selectedClassName:"selected",shouldSelectRow:function(){return!0},shouldDeselectRow:function(){return!0}},m=function(){function e(t){var n=this,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(l(this,e),!t||"TABLE"!==t.tagName)throw new Error("Element must be a table");if(!t.querySelector("tbody"))throw new Error("Element must contain a 'tbody' element");Object.assign(this,b,o,{element:t}),this.element.classList.add(this.className),this.element.tabIndex=this.tabIndex,this._lastSelectedRows=[],this._onKeyDown=f.onKeyDown.bind(this),this._onFocusOut=w.onFocusOut.bind(this),this._onMouseDown=v.onMouseDown.bind(this),this.element.addEventListener("keydown",this._onKeyDown),this.element.addEventListener("focusout",this._onFocusOut),this.element.addEventListener("mousedown",this._onMouseDown),this.rows().forEach(function(e){e.addEventListener("click",(0,R.onClickRow)(e).bind(n)),e.addEventListener("dblclick",(0,y.onDoubleClickRow)(e).bind(n))})}return a(e,[{key:"destroy",value:function(){var e=this;this.element.classList.remove(this.className),this.element.tabIndex=null,this.element.removeEventListener("keydown",this._onKeyPress),this.element.removeEventListener("focusout",this._onFocusOut),this.element.removeEventListener("mousedown",this._onMouseDown),this.rows().forEach(function(t){e.deselectRow(t),t.removeEventListener("click"),t.removeEventListener("dblclick")}),Object.keys(this).forEach(function(t){e[t]=null})}},{key:"rows",value:function(){return Array.from(this.element.querySelector("tbody").children)}},{key:"isRowSelected",value:function(e){return e?e.classList.contains(this.selectedClassName):!1}},{key:"selectedRows",value:function(){var e=this;return this.rows().filter(function(t){return e.isRowSelected(t)})}},{key:"lastSelectedRow",value:function(){return(0,u["default"])(this._lastSelectedRows)}},{key:"selectableRow",value:function(e){return e&&3===e.nodeType?!1:!e||this.shouldSelectRow(e)}},{key:"nextRow",value:function t(e){if(!e)return null;for(var t=e.nextSibling;t&&!this.selectableRow(t);)t=t.nextSibling;return t}},{key:"previousRow",value:function n(e){if(!e)return null;for(var n=e.previousSibling;n&&!this.selectableRow(n);)n=n.previousSibling;return n}},{key:"indexOfRow",value:function(e){return this.rows().indexOf(e)}},{key:"selectRow",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],o=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(e&&this.shouldSelectRow(e)){n||this.selectedRows().filter(function(t){return t!==e}).forEach(function(e){return t.deselectRow(e)});var s=this._lastSelectedRows.indexOf(e);s>=0&&this._lastSelectedRows.splice(s,1),o&&this._lastSelectedRows.push(e),this.isRowSelected(e)||(h.beforeSelect(this.element,e),e.classList.add(this.selectedClassName),h.afterSelect(this.element,e))}}},{key:"deselectRow",value:function(e){if(e&&this.shouldSelectRow(e)){var t=this._lastSelectedRows.indexOf(e);t>=0&&this._lastSelectedRows.splice(t,1),this.isRowSelected(e)&&(h.beforeDeselect(this.element,e),e.classList.remove(this.selectedClassName),h.afterDeselect(this.element,e))}}},{key:"toggleRow",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];this.isRowSelected(e)?this.deselectRow(e):this.selectRow(e,t,n)}},{key:"selectAll",value:function(){var e=this;this.rows().forEach(function(t){return e.selectRow(t,!0,!1)})}},{key:"deselectAll",value:function(){var e=this;this.rows().forEach(function(t){return e.deselectRow(t)})}},{key:"selectRange",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],o=this.rows(),s=this.lastSelectedRow(),l=this.indexOfRow(e),r=this.indexOfRow(s);0>r&&(r=0);var c=Math.min(l,r),u=Math.max(l,r);n||[].concat(i(o.slice(0,c)),i(o.slice(u+1,o.length))).forEach(function(e){return t.deselectRow(e)}),l>r&&(c++,u++),o.slice(c,u).forEach(function(e){t.selectRow(e,!0,!1)})}},{key:"action",value:function(){this.selectedRows().length>0&&h.action(this.element,this.selectedRows())}}]),e}();t["default"]=m,window&&(window.TableSelect=m)},function(e,t){function n(e){var t=e?e.length:0;return t?e[t-1]:void 0}e.exports=n},function(e,t){"use strict";function n(e){return function(t){t.shiftKey?this.selectRange(e,t.ctrlKey||t.metaKey):t.ctrlKey||t.metaKey?this.toggleRow(e,!0,!0):this.selectRow(e,!1,!0)}}Object.defineProperty(t,"__esModule",{value:!0}),t.onClickRow=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function s(e){return{detail:{row:e}}}function i(e){return{detail:{rows:e}}}function l(e,t){e.dispatchEvent(new h["default"]("action",i(t)))}function r(e,t){e.dispatchEvent(new h["default"]("beforeSelect",s(t)))}function c(e,t){e.dispatchEvent(new h["default"]("afterSelect",s(t)))}function u(e,t){e.dispatchEvent(new h["default"]("beforeDeselect",s(t)))}function a(e,t){e.dispatchEvent(new h["default"]("afterDeselect",s(t)))}Object.defineProperty(t,"__esModule",{value:!0}),t.action=l,t.beforeSelect=r,t.afterSelect=c,t.beforeDeselect=u,t.afterDeselect=a;var d=n(8),h=o(d)},function(e,t){"use strict";function n(e){return function(t){this.shouldSelectRow(e)&&((t.ctrlKey||t.metaKey)&&this.selectRow(e,!0,!0),this.action())}}Object.defineProperty(t,"__esModule",{value:!0}),t.onDoubleClickRow=n},function(e,t){"use strict";function n(){this.deselectAll()}Object.defineProperty(t,"__esModule",{value:!0}),t.onFocusOut=n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function s(e){if(e.shiftKey&&this.lastSelectedRow()){for(var t=this.lastSelectedRow(),n=this.nextRow(t);n&&this.isRowSelected(n);)n=this.nextRow(n);var o=this.rows().length-1;if(n&&t!==this.previousRow(n))return void this.deselectRow(this.previousRow(n));if(!n&&this.indexOfRow(this.lastSelectedRow())!==o)return void this.deselectRow((0,a["default"])(this.rows()));for(var s=this.previousRow(t);s&&this.isRowSelected(s);)s=this.previousRow(s);this.selectRow(s,!0,!1)}else{var i=(0,a["default"])(this.rows());for(this.lastSelectedRow()&&(i=this.previousRow(this.lastSelectedRow()));i&&this.isRowSelected(i);)i=this.previousRow(i);this.selectRow(i||(0,c["default"])(this.rows()),!1,!0)}}function i(e){if(e.ctrlKey||e.metaKey)return void this.action();if(e.shiftKey&&this.lastSelectedRow()){for(var t=this.lastSelectedRow(),n=this.previousRow(t);n&&this.isRowSelected(n);)n=this.previousRow(n);if(n&&t!==this.nextRow(n))return void this.deselectRow(this.nextRow(n));if(!n&&0!==this.indexOfRow(this.lastSelectedRow()))return void this.deselectRow((0,c["default"])(this.rows()));for(var o=this.nextRow(t);o&&this.isRowSelected(o);)o=this.nextRow(o);this.selectRow(o,!0,!1)}else{var s=(0,c["default"])(this.rows());for(this.lastSelectedRow()&&(s=this.nextRow(this.lastSelectedRow()));s&&this.isRowSelected(s);)s=this.nextRow(s);this.selectRow(s||(0,a["default"])(this.rows()),!1,!0)}}function l(e){38===e.keyCode?s.call(this,e):40===e.keyCode?i.call(this,e):13===e.keyCode&&this.action()}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),c=o(r),u=n(1),a=o(u);t.onKeyDown=l},function(e,t){"use strict";function n(){var e=window.getSelection?window.getSelection():document.selection;e&&(e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty())}function o(e){e.shiftKey&&n()}Object.defineProperty(t,"__esModule",{value:!0}),t.onMouseDown=o},function(e,t){(function(t){function n(){try{var e=new o("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}var o=t.CustomEvent;e.exports=n()?o:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(t,function(){return this}())},function(e,t){function n(e){return e?e[0]:void 0}e.exports=n}]);